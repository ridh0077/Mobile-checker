<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Premium Checker | Ridham Bohara</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&family=Dancing+Script:wght@700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    
    <style>
        :root {
            --primary: #00f2fe; 
            --secondary: #4facfe; 
            --accent: #ff0080;
            --bg-dark: #0f172a; 
            --text-light: #f1f5f9; 
            --text-dim: #94a3b8;
        }
        
        body {
            font-family: 'Poppins', sans-serif; 
            margin: 0; padding: 0; 
            background-color: var(--bg-dark);
            /* Dark Animated Background */
            background-image: radial-gradient(at 0% 0%, hsla(253,16%,7%,1) 0, transparent 50%), 
                              radial-gradient(at 50% 0%, hsla(225,39%,30%,1) 0, transparent 50%), 
                              radial-gradient(at 100% 0%, hsla(339,49%,30%,1) 0, transparent 50%);
            background-attachment: fixed; 
            background-size: cover; 
            color: var(--text-light); 
            min-height: 100vh; 
            display: flex; 
            justify-content: center; 
            align-items: flex-start;
        }

        .container {
            width: 100%; max-width: 900px; margin: 20px; padding: 30px;
            background: rgba(15, 23, 42, 0.7); backdrop-filter: blur(20px);
            border-radius: 24px; border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.5);
        }

        h1 { 
            text-align: center; font-size: 2.2rem; margin-bottom: 5px; 
            background: linear-gradient(to right, var(--primary), var(--secondary)); 
            -webkit-background-clip: text; color: transparent; 
        }

        .signature-box { text-align: center; margin-bottom: 30px; }
        .signature { font-family: 'Dancing Script', cursive; font-size: 1.8rem; color: var(--accent); transform: rotate(-3deg); display: inline-block; }

        /* --- BUTTONS (One Line) --- */
        .tab-bar { 
            display: flex; width: 100%; justify-content: space-between; gap: 10px; margin-bottom: 30px; 
            flex-wrap: nowrap; /* Force single line */
        }
        .tab-button {
            flex: 1; padding: 12px 5px; border-radius: 50px; 
            background: rgba(255, 255, 255, 0.05); color: var(--text-dim); border: 1px solid transparent; 
            cursor: pointer; transition: 0.3s; font-size: 0.9rem; font-weight: 600; 
            display: flex; align-items: center; justify-content: center; gap: 5px; white-space: nowrap;
        }
        .tab-button.active { 
            background: linear-gradient(135deg, var(--secondary), var(--primary)); 
            color: #000; box-shadow: 0 0 15px rgba(0, 242, 254, 0.4);
        }

        /* --- SEARCH BAR --- */
        .search-wrapper { position: relative; margin-bottom: 30px; }
        #searchBar { 
            width: 100%; padding: 18px 25px 18px 55px; 
            background: rgba(0, 0, 0, 0.3); border: 1px solid rgba(255, 255, 255, 0.1); 
            border-radius: 16px; color: white; font-size: 1.1rem; box-sizing: border-box;
            transition: 0.3s;
        }
        #searchBar:focus { border-color: var(--primary); box-shadow: 0 0 15px rgba(0, 242, 254, 0.2); outline: none; }
        .search-icon { position: absolute; left: 20px; top: 30%; color: var(--text-dim); }

        /* --- LIST ITEMS (Original Style + GLOW) --- */
        #accessoryList { list-style: none; padding: 0; }
        
        #accessoryList li {
            background: linear-gradient(145deg, rgba(255,255,255,0.03) 0%, rgba(255,255,255,0.01) 100%);
            margin-bottom: 15px; padding: 20px; 
            border-radius: 15px; 
            border: 1px solid rgba(255, 255, 255, 0.05);
            /* Original Left Strip */
            border-left: 4px solid var(--primary); 
            position: relative; overflow: hidden; 
            transition: all 0.2s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            cursor: pointer;
            animation: fadeIn 0.4s ease-in-out;
        }

        #accessoryList li strong { 
            display: block; font-size: 1.2rem; margin-bottom: 8px; color: var(--primary); 
        }
        
        .compatible-models { color: var(--text-dim); display: flex; gap: 10px; line-height: 1.5; font-size: 0.95rem; }

        /* --- THE GLOW EFFECT (On Tap/Active) --- */
        #accessoryList li:active, #accessoryList li.glow-active {
            transform: scale(1.02); /* Thoda bada hoga */
            border-color: var(--primary); /* Border bright hoga */
            background: rgba(0, 242, 254, 0.1); /* Halka blue background */
            box-shadow: 0 0 20px rgba(0, 242, 254, 0.4), /* Bahar ka glow */
                        inset 0 0 10px rgba(0, 242, 254, 0.2); /* Andar ka glow */
            border-left: 4px solid var(--accent); /* Left line pink ho jayegi */
        }

        #loading { text-align: center; color: var(--primary); font-size: 1.2rem; display: none; margin-top:20px; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        
        @media (max-width: 600px) { .container { margin: 10px; padding: 15px; } h1 { font-size: 1.8rem; } }
    </style>
</head>
<body>

<div class="container">
    <h1>Compatibility Checker</h1>
    <div class="signature-box">
        <span class="signature">Ridham Bohara</span>
        <span style="color:var(--primary); margin-left:10px; font-size:0.9rem; border:1px solid var(--primary); padding:2px 8px; border-radius:12px;">Premium</span>
    </div>

    <div class="tab-bar">
        <button class="tab-button active" onclick="setCategory('glass', this)"><i class="fas fa-shield-alt"></i> Glass</button>
        <button class="tab-button" onclick="setCategory('battery', this)"><i class="fas fa-battery-full"></i> Battery</button>
        <button class="tab-button" onclick="setCategory('cover', this)"><i class="fas fa-mobile-alt"></i> Cover</button>
    </div>

    <div class="search-wrapper">
        <i class="fas fa-search search-icon"></i>
        <input type="text" id="searchBar" onkeyup="filterList()" placeholder="Type Model Name or Code...">
    </div>

    <div id="loading"><i class="fas fa-spinner fa-spin"></i> Syncing Data...</div>
    <ul id="accessoryList">
        <!-- Items appear here -->
    </ul>
    
    <div id="noResults" style="display:none; text-align:center; color:#ff4d4d; padding:20px; border:1px dashed #ff4d4d; border-radius:15px; margin-top:20px;">
        <i class="fas fa-exclamation-triangle"></i> No results found.
    </div>
</div>

<script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
  import { getDatabase, ref, onValue } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-database.js";

  const firebaseConfig = {
    apiKey: "AIzaSyAoubYkpdAIvkHFxiQQI_HUEkfRKlTsiX0",
    authDomain: "mobileapo-8273e.firebaseapp.com",
    databaseURL: "https://mobileapo-8273e-default-rtdb.firebaseio.com",
    projectId: "mobileapo-8273e",
    storageBucket: "mobileapo-8273e.firebasestorage.app",
    messagingSenderId: "483263296236",
    appId: "1:483263296236:web:ee7c3c48508b99ac922bc9",
    measurementId: "G-GTHV522T6G"
  };

  const app = initializeApp(firebaseConfig);
  const db = getDatabase(app);

  let allData = {}; 
  let currentCategory = 'glass';

  const dataRef = ref(db, 'accessories');
  
  document.getElementById('loading').style.display = 'block';
  
  onValue(dataRef, (snapshot) => {
      document.getElementById('loading').style.display = 'none';
      if (snapshot.exists()) {
          allData = snapshot.val();
          renderList(); 
      } else {
          allData = {};
          document.getElementById('accessoryList').innerHTML = '<li style="text-align:center">No data found in database.</li>';
      }
  });

  window.setCategory = function(cat, btn) {
      currentCategory = cat;
      document.querySelectorAll('.tab-button').forEach(b => b.classList.remove('active'));
      btn.classList.add('active');
      renderList();
  }

  window.renderList = function() {
      const listContainer = document.getElementById('accessoryList');
      listContainer.innerHTML = "";
      
      const categoryData = allData[currentCategory];
      
      if (!categoryData) {
          listContainer.innerHTML = `<li style="text-align:center; opacity:0.7;">No items in ${currentCategory}.</li>`;
          return;
      }

      Object.values(categoryData).forEach(item => {
          const li = document.createElement('li');
          // Add click event for Tap Glow
          li.onclick = function() {
              // Remove glow from others
              document.querySelectorAll('#accessoryList li').forEach(el => el.classList.remove('glow-active'));
              // Add glow to this one
              this.classList.add('glow-active');
              // Remove after 300ms for a flash effect, or keep it if you prefer selection
              setTimeout(() => {
                  this.classList.remove('glow-active');
              }, 400); 
          };

          li.innerHTML = `
              <strong><i class="fas fa-hashtag"></i> ${item.code} <span style="font-size:0.85rem; color:#fff; opacity:0.6; font-weight:400; margin-left:8px;">${item.desc || ''}</span></strong>
              <div class="compatible-models">
                  <i class="fas fa-check" style="margin-top:4px; color:var(--secondary);"></i>
                  <span>${item.models}</span>
              </div>
          `;
          listContainer.appendChild(li);
      });
      
      filterList(); 
  }

  window.filterList = function() {
      const filter = document.getElementById('searchBar').value.toUpperCase();
      const li = document.getElementById('accessoryList').getElementsByTagName('li');
      let visibleCount = 0;

      for (let i = 0; i < li.length; i++) {
          const text = li[i].textContent || li[i].innerText;
          if (text.toUpperCase().indexOf(filter) > -1) {
              li[i].style.display = "";
              visibleCount++;
          } else {
              li[i].style.display = "none";
          }
      }
      
      document.getElementById('noResults').style.display = (visibleCount === 0 && li.length > 0) ? "block" : "none";
  }
</script>

</body>
</html>